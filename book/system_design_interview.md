## 가상 면접 사례로 배우는 대규모 시스템 설계 기초
책에서 읽은 내용 일부를 발췌하고 궁금증을 해소한다.

### 1장 사용자 수에 따른 규모 확장성
* 비관계형 데이터베이스가 더 적합한 경우가 존재함
    * 아주 낮은 응답 지연시간(latency) 
        * -> `이해를 못하겠음. 왜 NoSQL 이 그런걸까?`
    * 다루는 데이터가 비정형이라 관계형 데이터가 아님
    * 데이터(json, yaml, xml 등) 을 직렬화 하거나 역직렬화할 수 있기만 하면 됨
    * 아주 많은 양의 데이터를 저장할 필요가 있음
        * -> `수평확장을 하는데 유리하게 설계되었기 때문에 대량의 데이터를 저장하는게 가능`
* 데이터베이스 다중화
    * 데이터베이스는 마스터-슬레이브 구성으로 하여 가용성 및 안정성을 확보한다.
        * 쓰기연산은 마스터 디비, 읽기연산은 슬레이브 디비
        * -> `쓰기 연산은 마스터에서 수행하면 마스터와 슬레이브 간의 데이터 싱크가 실시간으로 이뤄지지 않아, 슬레이브로 읽기 시 데이터 누락이 있을 수 있지 않을까?`
    * 자연재해 등의 이유로 데이터베이스 서버 가운데 일부가 파괴되어도 데이터는 보존될 것이다. 데이터를 지역적으로 떨어진 여러장소에 다중화시켜 놓을 수 있기 때문이다.
        * -> `데이터베이스가 지역적으로 멀면 데이터를 복제하고 동기화 하는데, 네트워크 비용이 올라가지 않을까?`
        * chatGPT 는 데이터베이스 다중화 시 지역간의 데이터 동기화를 위해 주의해야할 점을 이야기 해줌
            * 데이터 압축 : 데이터를 압축하여 네트워크 대역폭을 줄일 수 있다.
            * 비동기식 복제 : 일정간격으로 데이터를 동기화할 수 있다.
            * 지역별 용도 : 지역별로 데이터 동기화 빈도와 용도를 구분해야 한다.
* 캐시 사용 시 유의할 점
    * 데이터 방출(eviction) 정책은 무엇인가?
        * -> `사내 레디스 인프라팀에서 레디스 기본 정책이 있음`
* 수평적 확장
    * 샤딩 키를 정할 떄는 데이터를 고르게 분할 할 수 있도록 하는 게 가장 중요하다. 샤딩은 데이터베이스 규모 확장을 실현하는 훌륭한 기술이지만 완벽하진 않다.
